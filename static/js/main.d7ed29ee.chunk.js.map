{"version":3,"sources":["api/index.js","App.js","index.js"],"names":["getImages","search","page","axios","get","App","handleInput","e","setState","target","name","value","preventDefault","state","API","then","data","images","hits","loadMore","openImage","id","fullScreenImage","find","elem","clearFullScreenImage","prevProps","prevState","prev","next","this","length","snapshot","window","scrollTo","top","document","documentElement","scrollHeight","behavior","className","onSubmit","type","props","autoComplete","autoFocus","placeholder","onChange","map","element","key","src","previewURL","alt","tags","onClick","largeImageURL","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"wTAIaA,EAAY,SAACC,GAAsB,IAAdC,EAAa,uDAAN,EACvC,OAAOC,IAAMC,IAAN,qCAAwCH,EAAxC,iBAAuDC,EAAvD,iGCFIG,EAAb,kDACE,aAAe,IAAD,8BACZ,gBASFC,YAAc,SAACC,GACb,EAAKC,SAAL,eAAgBD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,SAX7B,EAcdX,UAAY,SAACO,GACXA,EAAEK,iBAEG,EAAKC,MAAMZ,OAKhBa,EAAc,EAAKD,MAAMZ,QACtBc,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACN,EAAKR,UAAS,YAAc,EAAZS,OACd,MAAO,CACLA,OAAO,YAAKD,EAAKE,MACjBhB,KAAM,SATZ,EAAKM,SAAS,CAACS,OAAQ,GAAIf,KAAM,KAlBvB,EAiCdiB,SAAW,SAACZ,GACVA,EAAEK,iBACFE,EAAc,EAAKD,MAAMZ,OAAQ,EAAKY,MAAMX,KAAO,GAChDa,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACN,EAAKR,UAAS,YAAqB,IAAnBS,EAAkB,EAAlBA,OAAQf,EAAU,EAAVA,KACtB,MAAO,CACLe,OAAO,GAAD,mBAAMA,GAAN,YAAiBD,EAAKE,OAC5BhB,OAAQA,UAxCJ,EA8CdkB,UAAY,SAACC,GACX,EAAKb,UAAS,YAEZ,MAAO,CAACc,gBAFkB,EAAZL,OACiBM,MAAK,SAACC,GAAD,OAAUA,EAAKH,KAAOA,UAhDhD,EAqDdI,qBAAuB,WACrB,EAAKjB,SAAS,CAACc,gBAAiB,QApDhC,EAAKT,MAAQ,CACXI,OAAQ,GACRhB,OAAQ,GACRC,KAAM,EACNoB,gBAAiB,MANP,EADhB,oEA0D0BI,EAAWC,GACjC,IAAMC,EAAOD,EAAUV,OACjBY,EAAOC,KAAKjB,MAAMI,OAExB,OAAIW,EAAKG,OAASF,EAAKE,OACdF,EAAKE,OAASH,EAAKG,OAGrB,IAlEX,yCAqEqBL,EAAWC,EAAWK,GACnCA,GACFC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAzElB,+BA8EY,IAAD,OACP,OAAO,6BACL,4BAAQC,UAAU,aAChB,0BAAMA,UAAU,aAAaC,SAAUX,KAAK9B,WAC1C,4BAAQ0C,KAAK,SAASF,UAAU,qBAC9B,0BAAMA,UAAU,2BAAhB,WAGF,2BACEA,UAAU,mBACVE,KAAK,OACLhC,KAAK,SACLC,MAAOmB,KAAKa,MAAM1C,OAClB2C,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUjB,KAAKxB,gBAKrB,wBAAIkC,UAAU,gBACXV,KAAKjB,MAAMI,OAAO+B,KAAI,SAAAC,GACrB,OAAO,wBAAIC,IAAKD,EAAQ5B,GAAImB,UAAU,oBACpC,yBAAKW,IAAKF,EAAQG,WACbC,IAAKJ,EAAQK,KACbd,UAAU,yBACVe,QAAS,kBAAM,EAAKnC,UAAU6B,EAAQ5B,YAKhDS,KAAKjB,MAAMI,OAAOc,OAAU,4BAAQwB,QAASzB,KAAKX,UAAtB,aAAsD,KAElFW,KAAKjB,MAAMS,gBACT,yBAAKkB,UAAU,UAAUe,QAASzB,KAAKL,sBACtC,yBAAKe,UAAU,SACb,yBAAKW,IAAKrB,KAAKjB,MAAMS,gBAAgBkC,cAAeH,IAAI,OAElD,UArHlB,GAAyBI,aCEzBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFxB,SAASyB,eAAe,W","file":"static/js/main.d7ed29ee.chunk.js","sourcesContent":["import axios from 'axios';\n\n// https://pixabay.com/api/?key=18301790-18086bbe5ae929649d07b40f0\n\nexport const getImages = (search, page = 1) => {\n  return axios.get(`https://pixabay.com/api/?q=${search}&page=${page}&key=18301790-18086bbe5ae929649d07b40f0&image_type=photo&orientation=horizontal&per_page=12`)\n}\n","import React, {Component} from \"react\";\nimport * as API from './api/index'\n\nexport class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      images: [],\n      search: '',\n      page: 0,\n      fullScreenImage: null\n    }\n  }\n\n  handleInput = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  getImages = (e) => {\n    e.preventDefault();\n\n    if (!this.state.search) {\n      this.setState({images: [], page: 0});\n      return;\n    }\n\n    API.getImages(this.state.search)\n      .then(({data}) => {\n        this.setState(({images}) => {\n          return {\n            images: [...data.hits],\n            page: 1\n          }\n        })\n      })\n  }\n\n  loadMore = (e) => {\n    e.preventDefault();\n    API.getImages(this.state.search, this.state.page + 1)\n      .then(({data}) => {\n        this.setState(({images, page}) => {\n          return {\n            images: [...images, ...data.hits],\n            page: ++page\n          }\n        })\n      })\n  }\n\n  openImage = (id) => {\n    this.setState(({images}) => {\n      const fullScreenImage = images.find((elem) => elem.id === id);\n      return {fullScreenImage}\n    })\n  }\n\n  clearFullScreenImage = () => {\n    this.setState({fullScreenImage: null})\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const prev = prevState.images;\n    const next = this.state.images;\n\n    if (prev.length < next.length) {\n      return next.length - prev.length\n    }\n\n    return 0\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    return <div>\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.getImages}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name='search'\n            value={this.props.search}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n\n      <ul className=\"ImageGallery\">\n        {this.state.images.map(element => {\n          return <li key={element.id} className=\"ImageGalleryItem\">\n            <img src={element.previewURL}\n                 alt={element.tags}\n                 className=\"ImageGalleryItem-image\"\n                 onClick={() => this.openImage(element.id)}/>\n          </li>\n        })}\n      </ul>\n\n      {this.state.images.length ? (<button onClick={this.loadMore}>Load more</button>) : null}\n\n      {this.state.fullScreenImage ?\n        (<div className=\"Overlay\" onClick={this.clearFullScreenImage}>\n          <div className=\"Modal\">\n            <img src={this.state.fullScreenImage.largeImageURL} alt=\"\"/>\n          </div>\n        </div>) : null}\n\n    </div>;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}